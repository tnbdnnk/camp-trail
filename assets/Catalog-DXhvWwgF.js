import{r,j as e,u as B,a as C,f as T}from"./index-D72_bar1.js";import{i as d,A as w}from"./AdvertCard-CIb4Z9R3.js";import{P as g}from"./hooks-DJ3IsSzy.js";const A="_filter_i7472_1",E="_form_i7472_21",F="_location_i7472_30",G="_locationLabel_i7472_36",V="_locationInput_i7472_43",R="_horizontalLine_i7472_81",$="_checkbox_i7472_89",z="_checkboxGroup_i7472_96",M="_checkboxButton_i7472_103",D="_checkboxIcon_i7472_130",K="_checkboxLabelText_i7472_139",P="_checked_i7472_146",O="_radio_i7472_175",U="_radioGroup_i7472_182",W="_radioButton_i7472_189",H="_radioIcon_i7472_218",J="_radioLabelText_i7472_226",Q="_buttonContainer_i7472_264",X="_searchButton_i7472_273",Y="_resetSearchButton_i7472_292",t={filter:A,form:E,location:F,locationLabel:G,locationInput:V,horizontalLine:R,checkbox:$,checkboxGroup:z,checkboxButton:M,checkboxIcon:D,checkboxLabelText:K,checked:P,radio:O,radioGroup:U,radioButton:W,radioIcon:H,radioLabelText:J,buttonContainer:Q,searchButton:X,resetSearchButton:Y},I=({onFilter:u,resetFilter:a,filterCriteria:o})=>{const[x,_]=r.useState(o.location),[i,m]=r.useState(o.equipment),[l,j]=r.useState(o.type);r.useEffect(()=>{_(o.location),m(o.equipment),j(o.type)},[o]);const f=c=>{c.preventDefault(),u({location:x,equipment:i,type:l})},L=()=>{_(""),m({}),j(""),document.querySelectorAll(`.${t.checkboxButton}`).forEach(n=>{n.classList.remove(t.checked)}),document.querySelectorAll(`.${t.radioButton}`).forEach(n=>{n.classList.remove(t.checked)}),a()},s=c=>{const{name:p,checked:n}=c.target;m(N=>({...N,[p]:n}));const h=c.target.closest(`.${t.checkboxButton}`);n?h.classList.add(t.checked):h.classList.remove(t.checked)},b=c=>{j(c.target.value),document.querySelectorAll(`.${t.radioButton}`).forEach(n=>{n.querySelector("input").value===c.target.value?n.classList.add(t.checked):n.classList.remove(t.checked)})};return e.jsx("section",{className:t.filter,children:e.jsxs("form",{onSubmit:f,className:t.form,children:[e.jsxs("div",{className:t.location,children:[e.jsx("span",{className:t.locationLabel,children:"Location"}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"Kyiv, Ukraine",value:x,onChange:c=>_(c.target.value),className:t.locationInput})})]}),e.jsx("h2",{children:"Filters"}),e.jsxs("div",{className:t.checkbox,children:[e.jsx("span",{children:"Vehicle equipment"}),e.jsx("hr",{className:t.horizontalLine}),e.jsxs("div",{className:t.checkboxGroup,children:[e.jsxs("label",{className:t.checkboxButton,children:[e.jsx("input",{type:"checkbox",name:"kitchen",checked:!!i.kitchen,onChange:s}),e.jsx("svg",{className:t.checkboxIcon,children:e.jsx("use",{href:d+"#icon-spoon-knife",width:"24",height:"24"})}),e.jsx("span",{className:t.checkboxLabelText,children:"Kitchen"})]}),e.jsxs("label",{className:t.checkboxButton,children:[e.jsx("input",{type:"checkbox",name:"airConditioner",checked:!!i.airConditioner,onChange:s}),e.jsx("svg",{className:t.checkboxIcon,children:e.jsx("use",{href:d+"#icon-ac",width:"24",height:"24"})}),e.jsx("span",{className:t.checkboxLabelText,children:"AC"})]}),e.jsxs("label",{className:t.checkboxButton,children:[e.jsx("input",{type:"checkbox",name:"beds",checked:!!i.beds,onChange:s}),e.jsx("svg",{className:t.checkboxIcon,children:e.jsx("use",{href:d+"#icon-bed",width:"24",height:"24"})}),e.jsx("span",{className:t.checkboxLabelText,children:"Beds"})]}),e.jsxs("label",{className:t.checkboxButton,children:[e.jsx("input",{type:"checkbox",name:"TV",checked:!!i.TV,onChange:s}),e.jsx("svg",{className:t.checkboxIcon,children:e.jsx("use",{href:d+"#icon-tv",width:"24",height:"24"})}),e.jsx("span",{className:t.checkboxLabelText,children:"TV"})]}),e.jsxs("label",{className:t.checkboxButton,children:[e.jsx("input",{type:"checkbox",name:"shower",checked:!!i.shower,onChange:s}),e.jsx("svg",{className:t.checkboxIcon,children:e.jsx("use",{href:d+"#icon-shower",width:"24",height:"24"})}),e.jsx("span",{className:t.checkboxLabelText,children:"Shower/WC"})]})]})]}),e.jsxs("div",{className:t.radio,children:[e.jsx("span",{children:"Vehicle type"}),e.jsx("hr",{className:t.horizontalLine}),e.jsxs("div",{className:t.radioGroup,children:[e.jsxs("label",{className:t.radioButton,children:[e.jsx("input",{type:"radio",name:"type",value:"panelTruck",checked:l==="panelTruck",onChange:b}),e.jsx("svg",{className:t.radioIcon,children:e.jsx("use",{href:d+"#icon-van",width:"42",height:"42"})}),e.jsx("span",{className:t.radioLabelText,children:"Van"})]}),e.jsxs("label",{className:t.radioButton,children:[e.jsx("input",{type:"radio",name:"type",value:"fullyIntegrated",checked:l==="fullyIntegrated",onChange:b}),e.jsx("svg",{className:t.radioIcon,children:e.jsx("use",{href:d+"#icon-fully-integrated",width:"42",height:"42"})}),e.jsx("span",{className:t.radioLabelText,children:"Fully Integrated"})]}),e.jsxs("label",{className:t.radioButton,children:[e.jsx("input",{type:"radio",name:"type",value:"alcove",checked:l==="alcove",onChange:b}),e.jsx("svg",{className:t.radioIcon,children:e.jsx("use",{href:d+"#icon-alcove",width:"42",height:"42"})}),e.jsx("span",{className:t.radioLabelText,children:"Alcove"})]})]})]}),e.jsxs("div",{className:t.buttonContainer,children:[e.jsx("button",{type:"button",onClick:L,className:t.resetSearchButton,children:"Reset Search"}),e.jsx("button",{type:"submit",className:t.searchButton,children:"Search"})]})]})})};I.propTypes={onFilter:g.func.isRequired,resetFilter:g.func.isRequired,filterCriteria:g.object.isRequired};const Z="_advertListContainer_8n4ru_1",ee="_filterContainer_8n4ru_9",te="_advertsList_8n4ru_13",se="_loadMoreButton_8n4ru_27",v={advertListContainer:Z,filterContainer:ee,advertsList:te,loadMoreButton:se},ce=()=>{const u=B(),a=C(s=>s.adverts),[o,x]=r.useState(a),[_,i]=r.useState({location:"",equipment:{},type:""}),[m,l]=r.useState(4);r.useEffect(()=>{a.length===0?u(T([])):x(a)},[u,a]);const j=s=>{i(s);const{location:b,equipment:c,type:p}=s,n=a.filter(h=>{const N=b?h.location.includes(b):!0,S=Object.keys(c).every(k=>k==="shower"&&c[k]?h.details.shower===1&&h.details.toilet===1:c[k]?h.details[k]===1:!0),q=p?h.form===p:!0;return N&&S&&q});x(n),l(4)},f=()=>{i({location:"",equipment:{},type:""}),x(a),l(4)},L=()=>{l(s=>s+4)};return e.jsxs("div",{className:v.advertListContainer,children:[e.jsx("div",{className:v.filterContainer,children:e.jsx(I,{onFilter:j,resetFilter:f,filterCriteria:_})}),e.jsxs("div",{className:v.advertsList,children:[o.slice(0,m).map(s=>e.jsx(w,{advert:s},s._id)),m<o.length&&e.jsx("button",{className:v.loadMoreButton,onClick:L,children:"Load more"})]})]})},oe="_container_1enhk_1",ne="_title_1enhk_10",ae="_advertList_1enhk_18",y={container:oe,title:ne,advertList:ae},he=()=>{const u=B(),a=C(o=>o.adverts);return r.useEffect(()=>{a.length===0&&u(T())},[u,a.length]),e.jsx("div",{className:y.container,children:e.jsx("div",{className:y.advertList,children:e.jsx(ce,{})})})};export{he as default};
